/**
 * Fluid Particle System - å¿«é€Ÿä½¿ç”¨æŒ‡å—
 * 
 * è¿™ä¸ªæ–‡ä»¶åŒ…å«äº†å¦‚ä½•è‡ªå®šä¹‰å’Œæ‰©å±•æµä½“ç²’å­ç³»ç»Ÿçš„ç¤ºä¾‹ä»£ç 
 */

// ============================================
// 1. è°ƒæ•´ç²’å­æ•°é‡
// ============================================
// åœ¨ FluidParticlesPage.jsx ä¸­æ‰¾åˆ°è¿™ä¸€è¡Œï¼š
const PARTICLE_COUNT = 3000; // å‡å°‘åˆ° 1500 å¯ä»¥æå‡æ€§èƒ½ï¼Œå¢åŠ åˆ° 5000 å¯ä»¥æ›´å¯†é›†

// ============================================
// 2. æ›´æ”¹é¢œè‰²æ–¹æ¡ˆ
// ============================================
// åœ¨ Particle ç±»çš„ getRandomColor() æ–¹æ³•ä¸­ï¼š
getRandomColor() {
  const colors = [
    // å°è¯•ä¸åŒçš„é¢œè‰²ä¸»é¢˜ï¼š
    
    // ç«ç„°ä¸»é¢˜
    // { r: 255, g: 69, b: 0 },   // æ©™çº¢
    // { r: 255, g: 140, b: 0 },  // æ©™
    // { r: 255, g: 215, b: 0 },  // é‡‘
    
    // æµ·æ´‹ä¸»é¢˜
    // { r: 0, g: 105, b: 148 },   // æ·±æµ·è“
    // { r: 0, g: 191, b: 255 },   // å¤©è“
    // { r: 64, g: 224, b: 208 },  // é’ç»¿
    
    // éœ“è™¹ä¸»é¢˜
    // { r: 255, g: 0, b: 255 },   // æ´‹çº¢
    // { r: 0, g: 255, b: 255 },   // é’è‰²
    // { r: 255, g: 255, b: 0 },   // é»„è‰²
    
    // é»˜è®¤ä¸»é¢˜ï¼ˆç´«è“æ¸å˜ï¼‰
    { r: 100, g: 200, b: 255 },
    { r: 150, g: 150, b: 255 },
    { r: 200, g: 150, b: 255 },
    { r: 255, g: 200, b: 150 },
    { r: 150, g: 255, b: 200 },
  ];
  return colors[Math.floor(Math.random() * colors.length)];
}

// ============================================
// 3. è°ƒæ•´æµä½“ç‰©ç†å‚æ•°
// ============================================
const GRID_SIZE = 20;              // ç½‘æ ¼å¤§å°ï¼ˆè¶Šå°=æ›´ç²¾ç»†çš„æµä½“ï¼‰
const FLUID_DISSIPATION = 0.98;    // æµä½“è¡°å‡ï¼ˆ0.95-0.99ï¼Œè¶Šé«˜è¡°å‡è¶Šæ…¢ï¼‰
const FLUID_ITERATIONS = 8;        // æµä½“è¿­ä»£æ¬¡æ•°ï¼ˆæœªä½¿ç”¨ï¼Œé¢„ç•™ï¼‰

// ============================================
// 4. ä¿®æ”¹ç²’å­è¡Œä¸º
// ============================================
// åœ¨ Particle.update() æ–¹æ³•ä¸­è°ƒæ•´ï¼š

// å¸ƒæœ—è¿åŠ¨å¼ºåº¦
this.vx += (Math.random() - 0.5) * 0.1;  // å¢å¤§æ•°å€¼=æ›´éšæœºçš„è¿åŠ¨

// é€Ÿåº¦è¡°å‡
this.vx *= 0.99;  // é™ä½æ•°å€¼=æ›´å¿«åœæ­¢

// ç²’å­ç”Ÿå‘½å‘¨æœŸ
this.maxLife = Math.random() * 200 + 100;  // å¢åŠ æ•°å€¼=æ›´é•¿çš„ç”Ÿå‘½

// ============================================
// 5. æ·»åŠ ç²’å­é—´è¿çº¿ï¼ˆç¤ºä¾‹ï¼‰
// ============================================
// åœ¨ animate() å‡½æ•°ä¸­çš„ç²’å­ç»˜åˆ¶åæ·»åŠ ï¼š

/*
// ç»˜åˆ¶ç²’å­é—´çš„è¿çº¿
const connectionDistance = 80; // è¿æ¥è·ç¦»
for (let i = 0; i < particles.length; i++) {
  for (let j = i + 1; j < particles.length; j++) {
    const dx = particles[i].x - particles[j].x;
    const dy = particles[i].y - particles[j].y;
    const dist = Math.sqrt(dx * dx + dy * dy);
    
    if (dist < connectionDistance) {
      ctx.beginPath();
      ctx.moveTo(particles[i].x, particles[i].y);
      ctx.lineTo(particles[j].x, particles[j].y);
      ctx.strokeStyle = `rgba(100, 150, 255, ${(1 - dist / connectionDistance) * 0.2})`;
      ctx.lineWidth = 1;
      ctx.stroke();
    }
  }
}
*/

// ============================================
// 6. æ·»åŠ é‡åŠ›æ•ˆæœï¼ˆç¤ºä¾‹ï¼‰
// ============================================
// åœ¨ Particle.update() æ–¹æ³•ä¸­æ·»åŠ ï¼š

/*
// æ·»åŠ é‡åŠ›
this.vy += 0.05; // å‘ä¸‹çš„é‡åŠ›

// åœ°é¢åå¼¹
if (this.y > height - 50) {
  this.y = height - 50;
  this.vy *= -0.8; // åå¼¹å¹¶æŸå¤±èƒ½é‡
}
*/

// ============================================
// 7. æ·»åŠ å¸å¼•/æ’æ–¥åŠ›åœºï¼ˆç¤ºä¾‹ï¼‰
// ============================================
// åœ¨ handlePointerMove ä¸­å¯ä»¥åˆ‡æ¢å¸å¼•/æ’æ–¥æ¨¡å¼ï¼š

/*
const attractMode = e.shiftKey; // æŒ‰ä½ Shift åˆ‡æ¢æ¨¡å¼
const forceMult = attractMode ? -1 : 1; // è´Ÿå€¼=å¸å¼•ï¼Œæ­£å€¼=æ’æ–¥

addFluidForce(
  x, y, 
  dx * forceMult, 
  dy * forceMult,
  canvasRef.current.width,
  GRID_SIZE,
  fluidVelocityRef.current
);
*/

// ============================================
// 8. æ€§èƒ½ä¼˜åŒ–å»ºè®®
// ============================================

/**
 * ä½æ€§èƒ½è®¾å¤‡é…ç½®ï¼š
 * - PARTICLE_COUNT: 1000-1500
 * - GRID_SIZE: 30-40
 * - ç§»é™¤ç²’å­è¿çº¿
 * - å‡å°‘æ‹–å°¾æ•ˆæœï¼ˆå¢åŠ èƒŒæ™¯é€æ˜åº¦ï¼‰
 */

/**
 * é«˜æ€§èƒ½è®¾å¤‡é…ç½®ï¼š
 * - PARTICLE_COUNT: 5000-10000
 * - GRID_SIZE: 10-15
 * - æ·»åŠ ç²’å­è¿çº¿
 * - æ·»åŠ é«˜æ–¯æ¨¡ç³Šæ•ˆæœ
 * - ä½¿ç”¨ WebGL ä»£æ›¿ Canvas 2D
 */

// ============================================
// 9. å¯¼å‡ºä¸ºå›¾ç‰‡ï¼ˆç¤ºä¾‹åŠŸèƒ½ï¼‰
// ============================================

/*
// æ·»åŠ åˆ°ç»„ä»¶ä¸­çš„å¯¼å‡ºå‡½æ•°
const exportImage = () => {
  const canvas = canvasRef.current;
  const dataURL = canvas.toDataURL('image/png');
  const link = document.createElement('a');
  link.download = 'fluid-particles.png';
  link.href = dataURL;
  link.click();
};

// æ·»åŠ å¯¼å‡ºæŒ‰é’®
<button onClick={exportImage}>
  ğŸ“¸ Export Image
</button>
*/

// ============================================
// 10. æ·»åŠ éŸ³é¢‘å“åº”ï¼ˆé«˜çº§åŠŸèƒ½ï¼‰
// ============================================

/*
// ä½¿ç”¨ Web Audio API è®©ç²’å­å“åº”éŸ³é¢‘
const audioContext = new AudioContext();
const analyser = audioContext.createAnalyser();

// åœ¨ update ä¸­æ ¹æ®éŸ³é¢‘é¢‘ç‡è°ƒæ•´ç²’å­é€Ÿåº¦
analyser.getByteFrequencyData(dataArray);
const bass = dataArray[0] / 255;
this.vx += bass * (Math.random() - 0.5);
*/

export default {};
